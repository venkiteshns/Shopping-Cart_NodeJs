<div class="container mt-5">
    <form action="" id="order-form">
        <div class="row">
            <div class="col-md-5">
                <h3>Enter Delivery Address</h3>

                <div class="mb-3">
                    <label for="Name" class="form-label">Name</label>
                    <input type="text" class="form-control" id="Name" name="Name">
                </div>
                <div class="mb-3">
                    <label for="Phone" class="form-label">Phone</label>
                    <input type="tel" class="form-control" id="Phone" name="Phone">
                </div>
                <div class="mb-3">
                    <label for="Email" class="form-label">Email address</label>
                    <input type="email" class="form-control" id="Email" name="Email" aria-describedby="emailHelp">
                </div>
                <div class="mb-3">
                    <label for="Address" class="form-label">Address</label>
                    <textarea type="text" class="form-control" id="Address" name="Address"></textarea>
                </div>
                <div class="mb-3">
                    <label for="PinCode" class="form-label">Pin Code</label>
                    <textarea type="text" class="form-control" placeholder="eg:234568" id="PinCode"
                        name="Pincode"></textarea>
                </div>
                <input type="text" name="userId" id="" value="{{user._id}}" hidden>

            </div>
            <div class="col-md-4 ms-5 mt-5 border border-3 border-success ps-4 pt-4"
                style="height: 300px; width: 400px;">
                <h4 class="mt-2">Total Amount : â‚¹ {{total}}</h4>
                <hr>
                <h6 class="mt-3">Payment Method</h6>
                <div class="form-check mt-3">
                    <input class="form-check-input" type="radio" name="payment-method" id="cod" value="COD">
                    <label class="form-check-label" for="cod">
                        <span style="font-size: large; font-weight: 450;">COD</span>
                    </label>
                </div>
                <div class="form-check mt-3">
                    <input class="form-check-input" type="radio" name="payment-method" id="online"
                        value="Online-Payment" checked>
                    <label class="form-check-label" for="online">
                        <span style="font-size: large; font-weight: 450;">Online payment</span>
                    </label>
                </div>
                <input type="submit" class="btn btn-primary mt-4 float-end me-3" value="Check-Out">
            </div>
        </div>
    </form>
</div>

<script>
    $(document).ready(() => {
        $('#order-form').submit((e) => {
            e.preventDefault()
            $.ajax({
                url: '/place-order',
                method: 'POST',
                data: $('#order-form').serialize(),
                success: (response) => {
                    alert(response)
                    if (response.status) {
                        location.href = '/order-success'
                    }
                }
            })
        })
    })

</script>